unit uInter;

interface
uses
   uConsulta, uCadastro, uConsultaPaises, uConsultaEstados, uConsultaCidades, uCadastroPaises,
   uCadastroEstados, uCadastroCidades;
type
   Inter = class

  protected
    oConsultaPaises : TConsultaPaises;
    oConsultaEstados : TConsultaEstados;
    oConsultaCidades : TConsultaCidades;
    oCadastroPaises  : TCadastroPaises;
    oCadastroEstados : TCadastroEstados;
    oCadastroCidades : TCadastroCidades;

  public
     constructor CrieObj;
     destructor Destrua_se;
     procedure PDPaises (pObj, pCtrl : TObject);
     procedure PDEstados(pObj, pCtrl : TObject);
     procedure PDCidades(pObj, pCtrl : TObject);

  end;

implementation
 constructor Inter.CrieObj;
 begin
    oConsultaPaises := TConsultaPaises.Create(nil);
    oConsultaEstados := TConsultaEstados.Create(nil);
    oConsultaCidades := TConsultaCidades.Create(nil);

    oCadastroPaises  := TCadastroPaises.Create(nil);
    oCadastroEstados := TCadastroEstados.Create(nil);
    oCadastroCidades := TCadastroCidades.Create(nil);

    oConsultaPaises.setCad(oCadastroPaises);
    oConsultaEstados.setCad(oCadastroEstados);
    oConsultaCidades.setCad(oCadastroCidades);

 end;
 destructor Inter.Destrua_se;
 begin
    oConsultaPaises.FreeInstance;
    oConsultaEstados.FreeInstance;
    oConsultaCidades.FreeInstance;

    oCadastroPaises.FreeInstance;
    oCadastroEstados.FreeInstance;
    oCadastroCidades.FreeInstance;

 end;
 procedure Inter.PDCidades(pObj, pCtrl : TObject);
 begin
    oConsultaCidades.conhecaObj(pObj, pCtrl );
    oConsultaCidades.ShowModal;

 end;
 procedure Inter.PDEstados(pObj, pCtrl : TObject);
 begin
    oConsultaEstados.conhecaObj(pObj, pCtrl );
    oConsultaEstados.ShowModal;

 end;
 procedure Inter.PDPaises(pObj, pCtrl : TObject);
 begin
    oConsultaPaises.conhecaObj(pObj, pCtrl );
    oConsultaPaises.ShowModal;

 end;

end.
